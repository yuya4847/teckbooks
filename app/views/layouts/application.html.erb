<!DOCTYPE html>
<html>
  <head>
    <title><%= full_title(yield(:title)) %></title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    <%= stylesheet_pack_tag 'application' %>
    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=RobotoDraft' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.9.0/css/all.css">
  </head>

  <body>
    <div id="footerfixed" class="footerFixed">
          <%= render partial: 'layouts/header' %>
            <div class="application-height">
                <% if user_signed_in? %>
                  <%= render partial: 'layouts/sub_header' %>
                <% end %>
                <div id="flash-messages" class="flash-messages">
                  <div id="notice" class="notice flash"><%= notice %></div>
                  <div id="alert" class="alert flash"><%= alert %></div>
                </div>
                <%= yield %>
            </div>
      </div>
  </body>
</html>

<script type="text/javascript">
  $("#api-scroll").click(function () {
    $("html,body").animate({scrollTop: 0}, 1);
  });
</script>

<script type="text/javascript">
  $(function(){

    if($('#notice').text().length) {
      $('#flash-messages').stop().animate({'bottom' : '5px'}, 400);
      setTimeout(function() {
        $('#flash-messages').stop().animate({'bottom' : '-105px'}, 400);
	    }, 3500);
    }

    if($('#alert').text().length) {
      $('#flash-messages').stop().animate({'bottom' : '5px'}, 400);
      setTimeout(function() {
        $('#flash-messages').stop().animate({'bottom' : '-105px'}, 400);
	    }, 3500);
    }

    if($('#notice').text().length == "") {
      $('#notice').css("display", "none");
    }

    if($('#alert').text().length == "") {
      $('#alert').css("display", "none");
    }
  });
</script>

<script type="text/javascript">
  document.addEventListener('DOMContentLoaded', function(){
  tabs = document.querySelectorAll('#js-tab li');
  for(i = 0; i < tabs.length; i++) {
    tabs[i].addEventListener('click', tabSwitch, false);
  }

  function tabSwitch(){
    tabs = document.querySelectorAll('#js-tab li');
    var node = Array.prototype.slice.call(tabs, 0);
    node.forEach(function (element) {
      element.classList.remove('active');
    });
    this.classList.add('active');

    content = document.querySelectorAll('.tab-content');
    var node = Array.prototype.slice.call(content, 0);
    node.forEach(function (element) {
      element.classList.remove('active');
    });

    const arrayTabs = Array.prototype.slice.call(tabs);
    const index = arrayTabs.indexOf(this);

    document.querySelectorAll('.tab-content')[index].classList.add('active');
  };
});

var searchingTime = 0;
</script>
